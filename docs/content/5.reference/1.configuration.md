---
title: Configuration
description: All WPNuxt configuration options
---

## @wpnuxt/core

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  modules: ['@wpnuxt/core'],

  wpNuxt: {
    // Options here
  }
})
```

### Options

| Option | Type | Default | Description |
|--------|------|---------|-------------|
| `wordpressUrl` | `string` | â€” | **Required.** WordPress URL (no trailing slash) |
| `graphqlEndpoint` | `string` | `'/graphql'` | GraphQL endpoint path |
| `downloadSchema` | `boolean` | `true` | Download schema on build |
| `debug` | `boolean` | `false` | Enable debug logging |

### Query Options

| Option | Type | Default | Description |
|--------|------|---------|-------------|
| `queries.extendFolder` | `string` | `'extend/queries/'` | Custom queries location |
| `queries.mergedOutputFolder` | `string` | `'.queries/'` | Merged queries output |

### Cache Options

| Option | Type | Default | Description |
|--------|------|---------|-------------|
| `cache.enabled` | `boolean` | `true` | Enable server-side caching |
| `cache.maxAge` | `number` | `300` | Cache duration (seconds) |
| `cache.swr` | `boolean` | `true` | Stale-while-revalidate |

### Full Example

```ts [nuxt.config.ts]
wpNuxt: {
  wordpressUrl: 'https://wordpress.example.com',
  graphqlEndpoint: '/graphql',
  downloadSchema: true,
  debug: false,
  queries: {
    extendFolder: 'extend/queries/',
    mergedOutputFolder: '.queries/'
  },
  cache: {
    enabled: true,
    maxAge: 300,
    swr: true
  }
}
```

## @wpnuxt/blocks

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  modules: ['@wpnuxt/core', '@wpnuxt/blocks'],

  wpNuxtBlocks: {
    // Options here
  }
})
```

### Options

| Option | Type | Default | Description |
|--------|------|---------|-------------|
| `imageDomains` | `string[]` | `[]` | Domains for NuxtImg optimization |
| `skipPluginCheck` | `boolean` | `false` | Skip WPGraphQL Content Blocks plugin validation |
| `nuxtUI` | `'auto' \| boolean` | `'auto'` | Use Nuxt UI components when available |

### Example

```ts [nuxt.config.ts]
wpNuxtBlocks: {
  imageDomains: ['wordpress.example.com', 'cdn.example.com'],
  skipPluginCheck: false,  // Set to true to skip plugin validation
  nuxtUI: 'auto'           // 'auto' | true | false
}
```

## @wpnuxt/auth

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  modules: ['@wpnuxt/core', '@wpnuxt/auth'],

  wpNuxtAuth: {
    // Options here
  }
})
```

### Options

| Option | Type | Default | Description |
|--------|------|---------|-------------|
| `enabled` | `boolean` | `true` | Enable the auth module |
| `cookieName` | `string` | `'wpnuxt-auth-token'` | Cookie name for auth token |
| `refreshCookieName` | `string` | `'wpnuxt-refresh-token'` | Cookie name for refresh token |
| `tokenMaxAge` | `number` | `3600` | Token expiration (seconds) |
| `refreshTokenMaxAge` | `number` | `604800` | Refresh token expiration (seconds) |
| `redirectOnLogin` | `string` | `'/'` | Redirect path after login |
| `redirectOnLogout` | `string` | `'/'` | Redirect path after logout |
| `loginPage` | `string` | `'/login'` | Login page path |

### Provider Options

#### Password Authentication

```ts [nuxt.config.ts]
wpNuxtAuth: {
  providers: {
    password: {
      enabled: true  // Default: true
    }
  }
}
```

#### Headless Login (External OAuth)

Uses [Headless Login for WPGraphQL](https://github.com/AxeWP/wp-graphql-headless-login) plugin.

```ts [nuxt.config.ts]
wpNuxtAuth: {
  providers: {
    headlessLogin: {
      enabled: true  // Default: false
    }
  }
}
```

Providers (Google, GitHub, etc.) are auto-discovered from WordPress.

#### WordPress OAuth (miniOrange)

Uses [miniOrange WP OAuth Server](https://wordpress.org/plugins/miniorange-oauth-20-server/) plugin.

```ts [nuxt.config.ts]
wpNuxtAuth: {
  providers: {
    oauth: {
      enabled: true,
      clientId: process.env.WPNUXT_OAUTH_CLIENT_ID,
      clientSecret: process.env.WPNUXT_OAUTH_CLIENT_SECRET,
      // Optional overrides:
      authorizationEndpoint: '/wp-json/moserver/authorize',
      tokenEndpoint: '/wp-json/moserver/token',
      userInfoEndpoint: '/wp-json/moserver/resource',
      scopes: ['openid', 'profile', 'email']
    }
  }
}
```

### Full Example

```ts [nuxt.config.ts]
wpNuxtAuth: {
  cookieName: 'wpnuxt-auth-token',
  refreshCookieName: 'wpnuxt-refresh-token',
  tokenMaxAge: 3600,
  refreshTokenMaxAge: 604800,
  redirectOnLogin: '/profile',
  redirectOnLogout: '/',
  loginPage: '/login',
  providers: {
    password: { enabled: true },
    headlessLogin: { enabled: true },
    oauth: { enabled: false }
  }
}
```

## Environment Variables

### @wpnuxt/core

| Variable | Overrides |
|----------|-----------|
| `WPNUXT_WORDPRESS_URL` | `wordpressUrl` |
| `WPNUXT_GRAPHQL_ENDPOINT` | `graphqlEndpoint` |
| `WPNUXT_DOWNLOAD_SCHEMA` | `downloadSchema` |
| `WPNUXT_DEBUG` | `debug` |

### @wpnuxt/auth

| Variable | Overrides |
|----------|-----------|
| `WPNUXT_OAUTH_CLIENT_ID` | `providers.oauth.clientId` |
| `WPNUXT_OAUTH_CLIENT_SECRET` | `providers.oauth.clientSecret` |

Environment variables take precedence over `nuxt.config.ts`.

```bash [.env]
WPNUXT_WORDPRESS_URL=https://wordpress.example.com
WPNUXT_DEBUG=true

# For OAuth (miniOrange)
WPNUXT_OAUTH_CLIENT_ID=your-client-id
WPNUXT_OAUTH_CLIENT_SECRET=your-client-secret
```
