---
title: Configuration
description: Configure WPNuxt for your project
---

## Full Configuration Example

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  wpNuxt: {
    // Required
    wordpressUrl: "https://wordpress.wpnuxt.com",

    // Optional
    graphqlEndpoint: "/graphql",
    downloadSchema: true,
    debug: false,

    // Query Management
    queries: {
      extendFolder: "extend/queries/",
      mergedOutputFolder: ".queries/",
    },

    // Server-Side Caching
    cache: {
      enabled: true,
      maxAge: 300,
      swr: true,
    },
  },
});
```

## Core Options

### wordpressUrl

**Type:** `string` (required)

URL of your WordPress site. Must not include a trailing slash.

**Example:**

```ts
wordpressUrl: "https://wordpress.wpnuxt.com";
```

**Environment Variable:**

```bash
WPNUXT_WORDPRESS_URL=https://wordpress.wpnuxt.com
```

### graphqlEndpoint

**Type:** `string`
**Default:** `'/graphql'`

The GraphQL endpoint path (appended to `wordpressUrl`).

**Example:**

```ts
graphqlEndpoint: "/graphql";
// Results in: https://wordpress.wpnuxt.com/graphql
```

**Environment Variable:**

```bash
WPNUXT_GRAPHQL_ENDPOINT=/graphql
```

### downloadSchema

**Type:** `boolean`
**Default:** `true`

Whether to download the GraphQL schema from WordPress on build.

When `false`, expects a `schema.graphql` file in your project root. This can speed up build times in production.

**Recommended Workflow:**

1. Enable during development: `downloadSchema: true`
2. Commit the generated `schema.graphql` file
3. Disable in production: `downloadSchema: false`

**Environment Variable:**

```bash
WPNUXT_DOWNLOAD_SCHEMA=false
```

### debug

**Type:** `boolean`
**Default:** `false`

Enable debug logging to see module initialization details, query generation, and caching information.

**Environment Variable:**

```bash
WPNUXT_DEBUG=true
```

## Query Management

### queries.extendFolder

**Type:** `string`
**Default:** `'extend/queries/'`

Path to the folder containing your custom GraphQL queries. These queries extend or override the default queries.

See [Extending Queries](/getting-started/extending-queries) for more details.

### queries.mergedOutputFolder

**Type:** `string`
**Default:** `'.queries/'`

Path where merged queries (default + custom) are output. This folder is used for type generation.

**Note:** This folder is automatically generated and should be added to `.gitignore`.

## Server-Side Caching

WPNuxt uses Nitro's built-in caching with route rules to cache GraphQL requests server-side.

### cache.enabled

**Type:** `boolean`
**Default:** `true`

Enable or disable server-side caching for GraphQL requests.

When enabled, adds Nitro route rules to cache `/graphql-middleware/**` endpoints.

**Benefits:**

- ðŸš€ **100x faster** - Cached responses served from memory (~1-5ms)
- ðŸ”„ **Stale-while-revalidate** - Instant responses with background updates
- ðŸ’¾ **Automatic** - No code changes required

**Example:**

```ts
cache: {
  enabled: true;
}
```

### cache.maxAge

**Type:** `number`
**Default:** `300` (5 minutes)

Cache duration in seconds. Determines how long responses are cached before revalidation.

**Examples:**

```ts
cache: {
  maxAge: 60; // 1 minute
  maxAge: 300; // 5 minutes (default)
  maxAge: 600; // 10 minutes
  maxAge: 3600; // 1 hour
}
```

**Performance Impact:**

- **Higher values** - Fewer WordPress requests, faster response, potentially stale data
- **Lower values** - More WordPress requests, fresher data, slower response

### cache.swr

**Type:** `boolean`
**Default:** `true`

Enable [stale-while-revalidate](https://web.dev/stale-while-revalidate/) caching strategy.

When `true`:

1. Serves cached (possibly stale) content immediately
2. Revalidates cache in the background
3. Updates cache for next request

**Benefits:**

- âš¡ Always fast responses (even when cache is stale)
- ðŸ”„ Automatic background updates
- ðŸ“‰ Reduced perceived latency

**Example:**

```ts
cache: {
  maxAge: 300,
  swr: true  // Recommended for best performance
}
```

**When to disable:**

```ts
cache: {
  swr: false; // Only if you need guaranteed fresh data
}
```

## Caching Architecture

WPNuxt uses a **dual-layer caching strategy**:

### 1. Client-Side Cache (nuxt-graphql-middleware)

- **Type:** In-memory cache
- **Scope:** Per-client browser session
- **Max Size:** 50 queries (configurable)
- **Benefit:** Instant responses for repeated queries in the same session

### 2. Server-Side Cache (Nitro Route Rules)

- **Type:** Nitro's built-in cache
- **Scope:** Server-wide (all users)
- **Duration:** Configurable via `cache.maxAge`
- **Benefit:** Fast SSR/SSG with cached WordPress data

### Performance Comparison

| Scenario       | Without Cache | With Cache                      |
| -------------- | ------------- | ------------------------------- |
| First request  | ~200-500ms    | ~200-500ms                      |
| Cached request | ~200-500ms    | **~1-5ms**                      |
| Stale + SWR    | ~200-500ms    | **~1-5ms** (background refresh) |

**Speed improvement: 40-500x faster for cached requests!**

## Example Configurations

### Development

```ts
wpNuxt: {
  wordpressUrl: 'http://localhost:8080',
  debug: true,
  cache: {
    enabled: false  // Disable cache to see changes immediately
  }
}
```

### Production

```ts
wpNuxt: {
  wordpressUrl: 'https://wordpress.example.com',
  downloadSchema: false,  // Use committed schema
  cache: {
    enabled: true,
    maxAge: 600,  // 10 minutes
    swr: true
  }
}
```

### High-Traffic Site

```ts
wpNuxt: {
  wordpressUrl: 'https://wordpress.example.com',
  cache: {
    enabled: true,
    maxAge: 3600,  // 1 hour - aggressive caching
    swr: true
  }
}
```

### Real-Time Content

```ts
wpNuxt: {
  wordpressUrl: 'https://wordpress.example.com',
  cache: {
    enabled: true,
    maxAge: 60,   // 1 minute - frequent updates
    swr: false    // No stale content
  }
}
```

## Next Steps

- [Using Composables](/getting-started/composables) - Fetch WordPress content
- [Extending Queries](/getting-started/extending-queries) - Customize GraphQL queries
- [Performance](/advanced/performance) - Deep dive into caching strategies
