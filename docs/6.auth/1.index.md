---
title: Authentication
description: Add WordPress authentication to your Nuxt app
---

# Authentication

The `@wpnuxt/auth` module provides WordPress authentication for your Nuxt app. It supports three authentication methods:

| Method | Description | WordPress Plugin |
|--------|-------------|------------------|
| Password | Username/password login via GraphQL | Headless Login for WPGraphQL |
| External OAuth | Google, GitHub, etc. (recommended) | Headless Login for WPGraphQL |
| WordPress OAuth | Redirect to WordPress for login | miniOrange WP OAuth Server |

## Feature Comparison

| Feature | Password | External OAuth | WordPress OAuth |
|---------|----------|----------------|-----------------|
| Login method | Form in Nuxt | Google, GitHub, etc. | Redirect to WordPress |
| WPGraphQL compatible | ✅ | ✅ | ❌ |
| Email | ✅ | ✅ | ✅ |
| Username | ✅ | ✅ | ✅ |
| Display name | ✅ | ✅ | ✅ |
| Avatar | ✅ | ✅ | ❌ * |
| Roles | ✅ | ✅ | ❌ * |
| Logout | ✅ | ✅ | ✅ |

\* WordPress OAuth (miniOrange) returns limited user data. Avatar and roles require miniOrange premium.

::callout{type="success"}
**Recommendation:** Use Password or External OAuth for full WPGraphQL compatibility. Use WordPress OAuth only when you need users to authenticate directly with WordPress.
::

## Installation

```bash
pnpm add @wpnuxt/auth
```

```typescript [nuxt.config.ts]
export default defineNuxtConfig({
  modules: [
    '@wpnuxt/core',
    '@wpnuxt/auth'
  ]
})
```

## Quick Start

```vue [pages/login.vue]
<script setup>
const { login, isAuthenticated, error } = useWPAuth()

const form = reactive({ username: '', password: '' })

async function onSubmit() {
  const result = await login(form)
  if (result.success) {
    navigateTo('/profile')
  }
}
</script>
```

## Configuration

```typescript [nuxt.config.ts]
export default defineNuxtConfig({
  wpNuxtAuth: {
    // Cookie settings
    cookieName: 'wpnuxt-auth-token',
    refreshCookieName: 'wpnuxt-refresh-token',
    tokenMaxAge: 3600,           // 1 hour
    refreshTokenMaxAge: 604800,  // 7 days

    // Redirects
    redirectOnLogin: '/',
    redirectOnLogout: '/',
    loginPage: '/login',

    // Providers (see provider-specific docs)
    providers: {
      password: { enabled: true },
      oauth: { enabled: false }
    }
  }
})
```

## Composables

### useWPAuth()

Main authentication composable.

```typescript
const {
  // State
  user,              // Current user (computed)
  isAuthenticated,   // Login status (computed)
  isLoading,         // Loading state (computed)
  error,             // Error message (computed)

  // Methods
  login,                       // Password login
  loginWithOAuth,              // WordPress OAuth (miniOrange)
  loginWithProvider,           // External OAuth (Google, GitHub, etc.)
  logout,                      // Clear session
  refresh,                     // Refresh token
  getToken,                    // Get current token
  getProviders,                // Get available providers
  hasPasswordAuth,             // Check password auth
  hasOAuthAuth,                // Check WordPress OAuth auth
  hasHeadlessLoginAuth,        // Check external OAuth auth
  fetchHeadlessLoginProviders  // Fetch available external providers
} = useWPAuth()
```

### useWPUser()

User data composable with role checking.

```typescript
const {
  user,
  isLoading,
  error,
  fetchUser,      // Fetch user from WordPress
  clearUser,      // Clear user state
  hasRole,        // Check specific role
  isAdmin,        // Check admin role
  isEditor,       // Check editor role
  getDisplayName, // Get formatted name
  getAvatarUrl    // Get avatar URL
} = useWPUser()
```

## Next Steps

- [Password Authentication](/auth/password) - Set up username/password login
- [External OAuth Providers](/auth/headless-login) - Set up Google, GitHub, etc. (recommended)
- [WordPress OAuth](/auth/oauth) - Set up OAuth2 with WordPress (miniOrange)
